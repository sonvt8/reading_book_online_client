<app-admin-navbar></app-admin-navbar>
<main>

    <div class="container-fluid">

        <!-- Section: Intro -->
        <section class="mt-md-4 pt-md-2 mb-5 pb-4">

            <!-- Grid row -->
            <div class="row">

                <div class="card col-12">
                    <h3 class="card-header primary-color white-text text-center">
                        Danh sách Người Dùng
                    </h3>
                    <div class="card-body table-responsive">
                        <div class="row">
                            <div class="col-sm-12 col-md-6 col-12">
                                <div class="md-form mt-0">
                                    <input type="text" class="form-control" length="255" (input)="getUser(1)" id="search" name="search" [(ngModel)] = "search">
                                    <label for="search" class="form-label text-primary">Tìm Kiếm Theo Tên Tài Khoản</label>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 col-12">
                                <select class="mdb-select md-form colorful-select dropdown-primary mt-0" [(ngModel)] = "type" name="type" (change)="getUser(1)">
                                    <option *ngFor="let item of typeList" [ngValue]="item">
                                        {{item.label}}
                                    </option>

                                </select>
                            </div>
                        </div>
                        <table class="table table-striped" cellspacing="0" width="100%">
                            <thead>
                            <tr>
                                <th class="font-weight-bolder">ID
                                </th>
                                <th class="font-weight-bolder">Tên TK
                                </th>
                                <th class="font-weight-bolder">Tên Hiển Thị
                                </th>
                                <th class="font-weight-bolder">Ngày Tạo</th>

                                <th class="font-weight-bolder">Trạng Thái
                                </th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let user of users">
                                <td>{{user.id}}</td>
                                <td>{{user.username}}</td>
                                <td>{{user.displayName}}</td>
                                <td>{{user.createDate | date:'HH:mm dd/MM/yyyy' }}</td>
                                <td>
                                    <span *ngIf="user.status==1" class="badge badge-pill badge-success">Kích Hoạt</span>
                                    <span *ngIf="user.status==0" class="badge badge-pill badge-danger">Khóa</span>
                                </td>
                                <td>
                                    <a data-toggle="modal" data-target="#modalLRFormDemo" title="Nạp Tiền" class="badge badge-pill badge-danger mr-1"><i class="fas fa-coins mx-1"></i></a>
                                    <a routerLink="/quan_tri/nguoi_dung/{{user.id}}" title="Sửa" class="badge badge-pill badge-danger mr-1"><i class="fas fa-edit mx-1"></i></a>
                                    <a title="Xóa user" class="badge badge-pill badge-danger mr-1"><i class="fas fa-trash mx-1"></i></a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <div aria-label="Page navigation example" *ngIf="totalPages>1">
                            <ul class="pagination pg-blue justify-content-end">
                                <li class="page-item" *ngIf="currentPage!=1">
                                    <a class="page-link" (click)="getUser(currentPage - 1)">
                                        <i class="fas fa-step-backward fa-sm"></i>
                                    </a>
                                </li>
                                <li *ngFor="let i of page" [ngClass]="i===currentPage?'page-item active': 'page-item'">
                                    <a class="page-link" (click)="getUser(i)">{{i}}</a>
                                </li>
                                <li class="page-item" *ngIf="currentPage != totalPages">
                                    <a class="page-link" (click)="getUser(currentPage + 1)">
                                        <i class="fas fa-step-forward fa-sm"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
            <!-- Grid row -->

        </section>
        <!-- Section: Intro -->
    </div>
</main>
